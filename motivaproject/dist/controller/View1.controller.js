sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/core/format/NumberFormat","sap/m/library"],function(e,t,i){"use strict";var a=i.ButtonType;var s=i.DialogType;return e.extend("com.sap.mot.tax.recon.motivaproject.controller.View1",{onInit:function(){var e=new sap.ui.model.json.JSONModel;var t=[{status:"Open",operator:"Anoop",caseId:"Case-123",filingState:"TX",filingCode:"FIL-123",filingName:"Tax for TX",taxPeriod:"Dec-23",dateCreated:"11/13/2023",dueDate:"02/02/2024"}];e.setData({data:t});this.getView().setModel(e,"oModel");this.getView().byId("table2").addStyleClass("table2");this.getView().byId("table3").addStyleClass("table2");this.getView().byId("table4").addStyleClass("table2");this.getView().byId("idReturnsTable").addStyleClass("table3");var i=this.getView().byId("multiInput");i.addToken(new sap.m.Token({text:"GASOLINE"}))},handlePress:function(){this.getView().byId("_panel1").setVisible(false);this.getView().byId("_panel2").setVisible(true);this.getView().byId("_cancel").setVisible(true);this.getView().byId("_save").setVisible(true);this.getView().byId("_submit").setVisible(true)},handleValueHelp:function(e){var t=e.getSource().getValue(),i=this.getView();var a=new sap.ui.model.json.JSONModel;var s=[{code:"GASOLINE",description:"065"},{code:"NONPETROLEUM",description:"090"},{code:"ETHANOLBLENDS",description:"124"}];a.setData({data:s});this.getView().setModel(a,"oDialogModel");if(!this._pValueHelpDialog){this._pValueHelpDialog=sap.ui.xmlfragment("project1.fragments.Dialog",this);this.getView().addDependent(this._pValueHelpDialog);this._pValueHelpDialog.open()}},_handleValueHelpClose:function(e){var t=e.getParameter("selectedItems"),i=this.getView().byId("multiInput");if(t&&t.length>0){t.forEach(function(e){i.addToken(new sap.m.Token({text:e.getTitle()}))})}this._pValueHelpDialog.destroy();this._pValueHelpDialog=undefined},onCancel:function(){this.getView().byId("_panel2").setVisible(false);this.getView().byId("_panel1").setVisible(true);it;this.getView().byId("_cancel").setVisible(false);this.getView().byId("_save").setVisible(false);this.getView().byId("_subm").setVisible(false)},handleRateChange:function(e){var i=t.getCurrencyInstance({currencyCode:false,customCurrencies:{MyDollar:{isoCode:"USD",decimals:2}}});var a=e.getParameter("value");var s=this.getView().byId("text3").getText();s=s.replaceAll(",","");s=parseFloat(s)*parseFloat(a);s=s.toFixed(2);this.getView().byId("_IDGenInput1").setValue(s);var l=this.getView().byId("_IDGenText23").getText();l=l.replaceAll(",","");l=l*a;l=l.toFixed(2);this.getView().byId("_IDGenInput2").setValue(l);var n=parseFloat(s)+parseFloat(l);var o=i.format(n,"MyDollar");this.getView().byId("text7").setText(o);var r=parseFloat(n)-100;r=i.format(r,"MyDollar");this.getView().byId("text18").setText(r);this.getView().byId("text21").setText(r);this.getView().byId("_IDGenInput28").setText(r)},handleTaxPay:function(e){var i=t.getCurrencyInstance({currencyCode:false,customCurrencies:{MyDollar:{isoCode:"USD",decimals:2}}});var a=e.getParameter("value");a=a.replaceAll(",","");a=a.replaceAll(" ","");if(parseFloat(a)==0||a==""){this.getView().byId("_IDGenInput25").setValue("0.00");var s=this.getView().byId("text21").getText();this.getView().byId("_IDGenInput28").setText(s);var l=this.getView().byId("text20").getText();this.getView().byId("_IDGenText238").setText(l);return}var n=this.getView().byId("text21").getText();var o=this.getView().byId("text21").getText();n=n.replaceAll(",","");n=n.replaceAll("$","");n=parseFloat(n);var r=n+parseFloat(a);var d=r;r=i.format(r,"MyDollar");this.getView().byId("_IDGenInput28").setText(r);var u=this.getView().byId("_IDGenInput3").getValue();var p=parseFloat(d)/parseFloat(u);p=p.toFixed(2);this.getView().byId("_IDGenText238").setText(p)},addAdjustment:function(){if(!this._pAdjDialog){this._pAdjDialog=sap.ui.xmlfragment("project1.fragments.Adjustment",this);this.getView().addDependent(this._pAdjDialog);this._pAdjDialog.open()}},onCheckBox1:function(e){var t=e.getParameter("selected");if(t==true){sap.ui.getCore().byId("_IDGenLabel4").setVisible(true);sap.ui.getCore().byId("_IDGenInput1").setVisible(true)}else{sap.ui.getCore().byId("_IDGenLabel4").setVisible(false);sap.ui.getCore().byId("_IDGenInput1").setVisible(false)}},onCheckBox2:function(e){var t=e.getParameter("selected");if(t==true){sap.ui.getCore().byId("_IDGenLabel5").setVisible(true);sap.ui.getCore().byId("_IDGenInput2").setVisible(true)}else{sap.ui.getCore().byId("_IDGenLabel5").setVisible(false);sap.ui.getCore().byId("_IDGenInput2").setVisible(false)}},onCheckBox3:function(e){var t=e.getParameter("selected");if(t==true){sap.ui.getCore().byId("_IDGenLabel6").setVisible(true);sap.ui.getCore().byId("_IDGenInput3").setVisible(true)}else{sap.ui.getCore().byId("_IDGenLabel6").setVisible(false);sap.ui.getCore().byId("_IDGenInput3").setVisible(false)}},submitCloseAdjustment:function(){this._pAdjDialog.destroy();this._pAdjDialog=undefined},onSave:function(){sap.m.MessageToast.show("Data saved successfully")},onSubmit:function(){var e=this;if(!this.SubmitDialog){this.SubmitDialog=new sap.m.Dialog({type:s.Message,title:"Confirm Submit",content:new sap.m.Text({text:"Go to Recon?"}),beginButton:new sap.m.Button({type:a.Accept,text:"Confirm",press:function(){this.SubmitDialog.close();e.onSubmitConfirm();sap.m.MessageToast.show("Data submitted for review successfully");e.onCancel()}.bind(this)}),endButton:new sap.m.Button({text:"Cancel",press:function(){this.SubmitDialog.close()}.bind(this)})})}this.SubmitDialog.open()},onSubmitConfirm:function(){var e={definitionId:"eu10.kaar.taxreconapproval.taxRecon",context:{approveremail:"abc@abc.com",approvername:"abc"}};$.ajax({url:"/workflow/rest/v1/workflow-instances/",type:"POST",async:false,contentType:"application/json",data:JSON.stringify(e),success:function(e){console.log(e)},error:function(e){console.log(e)}})}})});
//# sourceMappingURL=View1.controller.js.map